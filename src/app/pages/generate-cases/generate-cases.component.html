<section class="flex w-full h-full flex-column">
    <div class="flex w-full h-full flex-column justify-content-center align-items-center surface-ground">
       
        <div
            class="flex justify-content-center align-items-center bg-white w-9 h-full shadow-2 flex-column">
            <div class="flex justify-content-center w-full">
                <div class="grid w-full">
                    <div class="flex justify-content-center col-3">
                        <p-button (onClick)="goToPage('/student-cases')"
                        icon="pi pi-arrow-left"
                        styleClass="p-button-rounded p-button-secondary p-button-text p-button-raised"></p-button>

                    </div>
                </div>
            </div>
            <div
                class="flex flex-column w-6 h-6 shadow-1 border-round align-items-center justify-content-center">
                <div
                    class="flex justify-content-center w-full border-round-top align-items-center h-3rem text-white"
                    style="background-color: #223a86;">
                    
                    <h3>Generar Caso</h3>
                </div>
                <form class="w-full h-full" [formGroup]="caseForm"
                    (ngSubmit)="createCase()">
                    <div class="w-full h-full flex flex-column gap-2">
                        <div class="flex flex-row justify-content-between mt-2">
                            <div
                                class="w-full flex align-items-center justify-content-center">
                                <input placeholder="Asunto"
                                    formControlName="title"
                                    [ngStyle]="{'width':'95%'}" pInputText />
   
                            </div>

                        </div>
                        <div class="flex w-full justify-content-between align-items-center" >
                            <div class="flex wp-3 align-items-center justify-content-center">
                                <span class="w-full ">
                                    <p-dropdown placeholder="Campus"
                                        [options]="campusDropDown"
                                        (onChange)="getNRCbyCampus($event)"
                                        formControlName="campus" optionLabel="name"
                                        optionValue="id" [style]="{'width':'90%','margin-left':'8%'}"></p-dropdown>

                                </span>
                            </div>
                            
                            <div class="flex wp-7 justify-content-end">
                                <span class=w-full>
                                    <p-dropdown placeholder="Asignatura"
                                        [options]="nrcDropDown"
                                        class="overflow-auto"
                                        [filter]="true" filterBy="name"
                                        formControlName="nrc" optionLabel="name"
                                        [style]="{'width':'96%',}"></p-dropdown>

                                </span>

                            </div>
                        </div>
                        <div
                            class="flex justify-content-start align-items-center w-full h-full flex-column">
                            <textarea rows="5" cols="30" pInputTextarea
                                formControlName="description"
                                [ngStyle]="{'resize':'none','width':'95%','height':'90%'}"></textarea>

                        </div>
                        <div
                            class="w-full h-3rem flex justify-content-between align-items-center px-4 pb-4 flex-row">
                            <!-- <p-fileUpload #inputFile class="form-control" type="file" mode="basic" chooseLabel="Suba un archivo"  name="demo[]"   (onUpload)="processFile($event)"></p-fileUpload> -->

                            <div class="flex flex-row align-items-center gap-2">
                                
                                <p-button icon="pi pi-plus" label="Subir archivo" (click)="inputFile.click()"></p-button>
                                <input  #inputFile [value]="file" class="form-control hidden" type="file"
                                    (change)="processFile($event)">
                                <p  *ngIf="fileName!=''">{{ (fileName.length>6)? (fileName | slice:0:15)+'...':(fileName) }}</p>
                            </div>
                            <button pButton pRipple label="Enviar"
                                class="p-button-success"></button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>